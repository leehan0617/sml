<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="soccer.dao.SMapper">
	<select id="getBoardCount" parameterType="int" resultType="int">
		select count(*) from board where sportCode = #{sportCode}
	</select>
	
	<select id="getSoccerBoardList" parameterType="java.util.HashMap" resultType="com.sml.common.dto.CommonBoardDto">
		<![CDATA[
			 select * from(
             	select rownum as rrownum, d.* from(
             		select rownum as rnum , c.* from 
              			(select a.* from board a where a.sportCode = #{sportCode} order by boardNumber) c order by rnum desc)d ) 
              				where rrownum>= #{startRow} and rrownum<= #{endRow}
		]]>
	</select>
	
	<select id="getBoardContent" parameterType="int" resultType="com.sml.common.dto.CommonBoardDto">
		select * from board where boardNumber = #{boardNumber}
	</select>
	
	<select id="showAgeChart" parameterType="String" resultType="com.sml.member.dto.MemberDto">
		select tm.memberbirth , tm.memberregion  from teammember tm , team t 
			where t.sportType=#{sportType} and tm.teamcode = t.teamCode
	</select>
	
	<select id="showDayChart" parameterType="String" resultType="java.util.Date">
		select gameDate from gameRecord where sportType=#{sportType}
	</select>
	
	<select id="getAllTeamSearch" resultType="com.sml.team.dto.TeamDto">
 		<![CDATA[
 			select * from team where sporttype=#{sportType}
 		]]>
 	</select>
 	
 	<select id="showLeagueInfo" parameterType="String" resultType="com.sml.league.dto.LeagueDto">
 		select * from leagueInfo where leagueSport=#{sportType} and leagueState = 1
 	</select>
	
</mapper>